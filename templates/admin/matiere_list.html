{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Subjects List" %} - CopalSchool{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-2xl font-bold mb-6">{% trans "Subjects List" %}</h2>
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold">{% trans "All Subjects" %}</h3>
        <a href="{% url 'schoolcopal:matiere_create' %}" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">{% trans "Add Subject" %}</a>
    </div>
    <table class="w-full border-collapse border border-gray-300">
        <thead>
            <tr class="bg-gray-200">
                <th class="border px-4 py-2">{% trans "Subject Name" %}</th>
                <th class="border px-4 py-2">{% trans "Description" %}</th>
                <th class="border px-4 py-2">{% trans "Class" %}</th>
                <th class="border px-4 py-2">{% trans "Actions" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for matiere in matieres %}
                <tr>
                    <td class="border px-4 py-2">{{ matiere.nom }}</td>
                    <td class="border px-4 py-2">{{ matiere.description|default:"No description" }}</td>
                    <td class="border px-4 py-2">{{ matiere.classe }}</td>
                    <td class="border px-4 py-2">
                        <a href="{% url 'schoolcopal:matiere_update' matiere.pk %}" class="text-blue-500 hover:underline">{% trans "Edit" %}</a>
                        <a href="{% url 'schoolcopal:matiere_delete' matiere.pk %}" class="text-red-500 hover:underline ml-2">{% trans "Delete" %}</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="4" class="text-center border px-4 py-2">{% trans "No subjects available." %}</td></tr>
            {% endfor %}
        </tbody>
    </table>
    <!-- Pagination -->
    {% if is_paginated %}
        <div class="mt-4">
            <nav class="flex justify-center">
                <ul class="inline-flex space-x-2">
                    {% if page_obj.has_previous %}
                        <li><a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300">{% trans "Previous" %}</a></li>
                    {% endif %}
                    {% for num in page_obj.paginator.page_range %}
                        <li><a href="?page={{ num }}" class="{% if page_obj.number == num %}bg-blue-500 text-white{% else %}bg-gray-200{% endif %} px-3 py-2 rounded hover:bg-gray-300">{{ num }}</a></li>
                    {% endfor %}
                    {% if page_obj.has_next %}
                        <li><a href="?page={{ page_obj.next_page_number }}" class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300">{% trans "Next" %}</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    {% endif %}
</div>
{% endblock %}